<div id="wrapper">
  <div class="page-wrapper">
    <app-header-clima-laboral></app-header-clima-laboral>
    <app-banner-clima-laboral></app-banner-clima-laboral>
    <div class="content-wrapper">
      <section class="content-block text-center pt-0 pb-0">
        <div class="container">
          <div class="demo-wrapper content-block pb-0">
            <div class="block-heading">
              <h2>Clima. <span class="blue-color">Laboral</span></h2>
              <div class="divider-v2 blue-border"></div>
            </div>
          </div>
        </div>
      </section>
    </div>
    <main>
      <div class="content-wrapper">
        <section class="content-block pb-0">
          <div class="container">
            <div class="contact-container">
              <div class="row">
                <div class="col-lg-12">
                  <form [formGroup]="FormClimaLaboral" (ngSubmit)="onSubmit($event)" name="submit-to-google-sheet">
                    <app-info-form [informacionPersonal]="FormClimaLaboral.controls.informacionPersonal"></app-info-form>
                    <app-instrucciones></app-instrucciones>
                    <ol id="climaLaboralForm" class="mt-5" start="{{limiteInf>78 ? 79 : limiteInf+1}}">
                      <li formArrayName="opcMultiple" *ngFor="let reactivo of opcMultiple.controls | slice: limiteInf : limiteSup; let i = index">
                          <div class="row" [formGroupName]="i">
                            <div class="col-md-12">
                              <app-reactivos-opc-mult
                                [reactivo]="reactivo"
                                [limiteInf]="limiteInf"
                                [limiteSup]="limiteSup"
                                [values]="values"
                              ></app-reactivos-opc-mult>
                            </div>
                          </div>
                      </li>
                      <app-reactivos-preg-abiertas
                        [FormClimaLaboral]="FormClimaLaboral"
                        [limiteInf]="limiteInf"
                        [limiteSup]="limiteSup"
                        *ngIf="limiteInf >= 78 || show"
                      ></app-reactivos-preg-abiertas>
                    </ol>
                    <div class="btn-container d-flex justify-content-end mb-5 mt-5">
                      <button type="button"
                        *ngIf="limiteInf!==0"
                        id="btn_prev" class="btn btn-left-arrow mr-3"
                        (click)="prev()"
                      >
                        Anterior
                      </button>
                      <button type="button"
                        *ngIf="!(limiteSup>=90)"
                        id="btn_next" class="btn btn-arrow mr-3"
                        (click)="next()"
                      >
                          Siguiente
                      </button>
                      <button type="submit" [disabled]="FormClimaLaboral.invalid"
                        *ngIf="FormClimaLaboral"
                        id="btn_sent" class="btn btn-primary btn-alternate btn-arrow" data-toggle="modal"
                        data-target="#submitModal">
                        ENVIAR
                      </button>
                      <!-- Modal -->
                      <!-- Modal -->
                      <div class="modal fade" id="submitModal" tabindex="-1" role="dialog"
                        aria-labelledby="modalTitle" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h5 class="modal-title" id="modalTitle">GUARDANDO</h5>
                              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                              </button>
                            </div>
                            <div class="modal-body" id="modalBody">
                              Un momento m√°s...
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn" data-dismiss="modal" id="modalBtn"></button>
                            </div>
                          </div>
                        </div>
                      </div>

                      <p id="error_message"> </p>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>
  </div>
</div>

<app-footer></app-footer>


<script src="js/app.js"></script>
